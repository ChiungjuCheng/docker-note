# 永久保存容器的資料
容器的資料隨著容器的生命週期消失，若想永久保存，docker在default中提供兩種方式，第一種為named volumes，第二種為bind mounts。

# Volumes
Volumes provide the ability to connect specific filesystem paths of the container back to the host machine.

## named volumes
這裡使用官網提供的範例，使用[app](/app)。

### Build image
執行app內的Dockerfile建立名稱為getting-started的image
```
docker build -t getting-started .
```

### Build volume
建立名稱為todo-db的volume
```
docker volume create todo-db
```

### Start container
啟動容器
```
docker run -dp 3000:3000 -v todo-db:/etc/todos getting-started
```
-v todo-db:/etc/todos : 使用todo-db volume並且mount /etc/todos資料夾

### 實際儲存位置
若想知道實際在host主機上資料儲存的位置，可以查閱volume詳細資訊，但在docker desktop中，實際上運行在VM中，所以該路徑應該是指VM內的路徑。
```
docker volume inspect todo-db
[
    {
        "CreatedAt": "2022-04-07T16:37:32Z",
        "Driver": "local",
        "Labels": {},
        "Mountpoint": "/var/lib/docker/volumes/todo-db/_data",
        "Name": "todo-db",
        "Options": {},
        "Scope": "local"
    }
]
```

# Bind mounts

# 參考
https://docs.docker.com/get-started/05_persisting_data/  